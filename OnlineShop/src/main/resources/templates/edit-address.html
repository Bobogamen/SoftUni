<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/reset-css.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <title>OnlineShop</title>
</head>
<body>
<nav th:replace="fragments/nav"></nav>
<main>
    <p class="h2 text-center">Edit address</p>
    <div class="bg-transparent m-3 d-flex align-items-center justify-content-center">
        <div class="form-control bg-info m-3 justify-content-center" style="width: fit-content;">
            <form th:action="@{/users/profile/edit-address/{id}(id=${addressById.id})}"
                  th:method="POST"
                  th:object="${addAddressDTO}"
                  class="formContainer" style="max-width: 800px;">
                <table class="table table-bordered table-striped">
                    <thead>
                    <tr>
                        <th>Current Name: <p th:text="${addressById.name}"></p></th>
                        <th>Current Address line: <p th:text="${addressById.addressLine}"></p></th>
                        <th>Current Town: <p th:text="${addressById.town}"></p></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td th:field="*{name}" style="width: 25%; vertical-align: middle;">
                            <input th:value="${addressById.name}" type="text" id="name" placeholder="Address name" name="name" required/>
                        </td>
                        <td th:field="*{addressLine}" style="vertical-align: middle;">
                            <input th:value="${addressById.addressLine}" type="text" id="addressLine" placeholder="Enter address"
                                   name="addressLine" required/>
                        </td>
                        <td th:field="*{town}" style="width: 25%; vertical-align: middle;">
                            <input th:value="${addressById.town}" type="text" id="town" placeholder="Enter town" name="town" required/>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <button type="submit" class="btn btn-success btn-lg">Submit</button>
            </form>
            <div class="align-items-center container col-2 mt-5">
                <button type="submit" onclick="deleteConfirmation()" class="btn-sm btn-danger mt-3">Delete</button>
                <div id="delete" class="container" hidden>
                    <button type="submit" onclick="confirmNo()" class="btn-sm btn-warning mt-1">No</button>
                    <form th:action="@{/users/profile/delete/{id}(id=${addressById.id})}"
                          th:method="POST">
                        <button type="submit" onclick="confirmYes()" class="btn-sm btn-danger mt-1">Yes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>

<script src="/js/app.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery-3.5.1.slim.min.js"></script>
</body>
</html>